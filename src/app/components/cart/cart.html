<div class="container mt-4">
	<h2>Carrito</h2>
	<div *ngIf="!items.length" class="alert alert-info">El carrito está vacío</div>

	<div *ngIf="items.length > 0">
		<div class="list-group mb-3">
			<div class="list-group-item d-flex align-items-center" *ngFor="let it of items">
				<img [src]="it.image" alt="" class="me-3" style="width:64px;height:86px;object-fit:cover;border-radius:4px;"> 
				<div class="flex-grow-1">
					<div><strong>{{ it.title }}</strong></div>
					<div class="text-muted small">{{ it.author }}</div>
					  <div class="mt-2">Precio: <strong>{{ it.price ? (it.price + ' €') : '-' }}</strong></div>
				</div>
				<div class="d-flex align-items-center">
					<button class="btn btn-sm btn-outline-secondary me-1" (click)="changeQty(it, -1)">-</button>
					<input class="form-control form-control-sm text-center me-1" style="width:56px" [value]="it.qty" (change)="setQty(it, $any($event.target).value)">
					<button class="btn btn-sm btn-outline-secondary me-2" (click)="changeQty(it, +1)">+</button>
					<button class="btn btn-sm btn-danger" (click)="remove(it)">Eliminar</button>
				</div>
			</div>
		</div>

		<div class="d-flex justify-content-between align-items-center">
			<div>
				<button class="btn btn-sm btn-outline-danger" (click)="clear()">Vaciar carrito</button>
			</div>
					<div>
						<strong>Total: {{ total() | number:'1.0-0' }} €</strong>
					</div>
		</div>
	</div>
</div>
